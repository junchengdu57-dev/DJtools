项目简介

工时统计助手 - 轮盘版（Tampermonkey脚本）
通过圆形轮盘快速进入“工作量统计、填写工作量、历史记录、薪资/考勤查询、账号设置、跳转Jira/Ex、工时系统”等模块
深色主题、悬停高亮、二级轮盘、拖拽排序、快捷键操作，效率与可视化兼具
当前核心版本：V44.2（支持薪资跨年份查询；修复关闭后再次打开表单消失问题）

快速开始

安装 Tampermonkey（Chrome/Edge 浏览器插件）
安装脚本
在线更新地址：
https://raw.githubusercontent.com/junchengdu57-dev/DJtools/main/CsgoWebTool.user.js
启动与关闭
Alt+S 打开/关闭轮盘
点击遮罩空白区域关闭脚本；再次 Alt+S 打开后保留上次视图状态（V44.2 修复）
账号配置
在“账号设置”中配置：
萨瑞系统（工号/密码）
Mobiwire（工号/密码）
工时系统 TS（用户名/密码）
功能模块

工作量统计
自定义日期范围查询
季度快捷选择：Q1/Q2/Q3/Q4/本月
分页获取与数据解析修复，兼容多种返回结构
评分计算：按等级映射统计总积分与各等级分布

填写工作量
Jira/Ex 抓取摘要（支持登录失败时引导跳转登录页）
项目搜索与下拉匹配
二级轮盘操作：提交、清空、返回
历史提交记录本地缓存（上限200条）
填报历史
列表展示、单项删除
本月/本季统计
薪资/考勤查询（Mobiwire）
薪资报表：
同年范围：年份+起止月份
跨年份范围：起止年月（官方“跨年份”选择，V44.2新增）
自动登录、逐月抓取、汇总与平均值计算、CSV下载
下载命名：同年 Mobiwire薪资_YYYY.csv；跨年 Mobiwire薪资_YYYYMM-YYYYMM.csv
参考实现：executeMobiwireFlow
考勤统计：
起止日期选择
逐月汇总考勤与加班数据，生成统计表并提供下载
账号设置
萨瑞系统、Mobiwire、TS 三套账号统一管理
本地存储，支持明文/MD5（按具体实现配置）
工时系统（TS）
填写：开发/预研/Common三类型；产品形态、阶段、检查人自动加载
查询/管理：日期范围查询、编辑与删除
导出：CSV导出（已集成）
参考昨日：一键复制昨日记录到今日
自动登录：进入TS模块时触发登录（已修复为强制重新登录确保账号变更生效）
交互与快捷键

轮盘
主菜单：8等分扇区，支持拖拽排序
二级轮盘：按模块显示快捷操作（如“填写工作量”的提交/清空/返回）
悬停高亮：扇区和标签高亮，Hub显示当前菜单项
Hub点击返回主菜单
快捷键
Alt+S：打开/关闭脚本
关闭逻辑优化：关闭后再次打开保留先前二级视图与右侧表单（V44.2）
权限与网络说明

脚本权限
GM_xmlhttpRequest：跨域请求接口
GM_getValue/GM_setValue：本地存储配置与历史
GM_openInTab：引导登录或跳转页面
网络域名（示例）
萨瑞系统：work.cqdev.top / 172.16.1.77
Jira 内网/外网：jira.transsion.com / jira-ex.transsion.com
Mobiwire：www.mobiwire.com.cn
工时系统：122.227.250.174（TS接口）
参考头部声明见：CsgoWebTool.user.js
数据与存储

本地存储键（示例）
账号配置、填报历史、菜单顺序
安全说明
不上传账号或历史至服务器；仅本地持久化
会话失效自动重试并引导登录
常见问题

登录失败或会话失效
Jira 抓取失败会提示跳转登录页
萨瑞/TS/Mobiwire 登录状态失效会自动重连或提示校验
再次打开脚本右侧表单消失
V44.2 已修复。关闭后重开将保留上次进入的视图与表单。
薪资跨年查询报错
校验起止年月范围是否有效；同年查询保持原“年份+起止月份”逻辑
版本变更

V44.2
薪资查询支持“跨年份”选择，按年/月逐步采集生成汇总，CSV命名优化
修复关闭后再次打开脚本右侧表单消失问题，保留上次视图状态
历史版本亮点
二级菜单恢复（Q1/Q2/Q3/Q4/本月快捷选择；提交/清空）
轮盘拖拽排序
工时系统集成与CSV导出
历史记录与积分统计修复
鸣谢与作者

作者：DJ
反馈与建议：欢迎提交 Issue 或通过群内@联系
